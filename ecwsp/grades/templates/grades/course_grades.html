{% load staticfiles %}
{% load compress %}

<!DOCTYPE html>
<html>
<head>

<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.8/angular.min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/restangular/1.4.0/restangular.min.js"></script>
{% compress js %}
<script type="text/javascript" src='{% static 'jquery/dist/jquery.min.js' %}'></script>
<script type="text/coffeescript" charset="utf-8" src="{% static "grades/app.coffee" %}"></script>
{% endcompress %}
<script src="{% static 'angular-ui-handsontable/dist/angular-ui-handsontable.full.js' %}"></script>
<link rel="stylesheet" media="screen" href="{% static "angular-ui-handsontable/dist/angular-ui-handsontable.full.css" %}">


</head>
<body ng-app="grades.app.static">
<div class="content" ng-controller="AppController">{% block content %}
{% verbatim %}

<div id="grade_table">
<ui-handsontable height="calcHeight" onchange="changeGrade" datarows="student in students" columns="columns">
</ui-handsontable>
</div>

{% endverbatim %}
{% endblock %}</div>
<script>
var app = angular.module('grades.app.static'); 
app.config(['$httpProvider', function($httpProvider) {
    $httpProvider.defaults.headers.common['X-CSRFToken'] = '{{ csrf_token|escapejs }}';
}]);
app.config(function(RestangularProvider) {
    RestangularProvider.setBaseUrl('/api');
    RestangularProvider.setRequestSuffix('/');
});
</script>
</body>
</html>
